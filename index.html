<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>GHIK</title>
		<link rel="stylesheet" href="dist/reset.css">
		<link rel="stylesheet" href="dist/reveal.css">
		<link rel="stylesheet" href="dist/theme/serif.css" id="theme">
		<!-- Theme used for syntax highlighted code -->
		<link rel="stylesheet" href="plugin/highlight/monokai.css" id="highlight-theme">
		<!-- Custom Presentation Styles -->
		<style>
			.logo 
			{
				width: auto;
				height: 20vh;
			}
			.results{
				height : 80vh;
				width : 80vw;
			}

			.dia{
				height : 80vh;
				width : 80vw;
			}
			.ivideo{
				height : 60vh;
				width : 80vw;
			}

			.left {
				text-align: left;
			}
			.center {
				text-align: center;
			}
			.justify{
				text-align: justify;
				padding-left: 5%;
			}
			.justify p,li::after{
				content:"\a\a";
			    white-space: pre;
			}

			.size {
			font-size: 80px;
			}
		</style>

	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<!-- Theme selection -->
				<section id="themes">
					<h2>Apariencia</h2>
						<p>
							Seleccione la apariencia de las diapositivas: <br>
							<!-- Hacks to swap themes after the page has loaded. Not flexible and only intended for the reveal.js demo deck. -->
							<a href="#" onclick="document.getElementById('theme').setAttribute('href','dist/theme/black.css'); return false;">Black</a> -
							<a href="#" onclick="document.getElementById('theme').setAttribute('href','dist/theme/white.css'); return false;">White</a> -
							<a href="#" onclick="document.getElementById('theme').setAttribute('href','dist/theme/league.css'); return false;">League</a> -
							<a href="#" onclick="document.getElementById('theme').setAttribute('href','dist/theme/sky.css'); return false;">Sky</a> -
							<a href="#" onclick="document.getElementById('theme').setAttribute('href','dist/theme/beige.css'); return false;">Beige</a> -
							<a href="#" onclick="document.getElementById('theme').setAttribute('href','dist/theme/simple.css'); return false;">Simple</a> <br>
							<a href="#" onclick="document.getElementById('theme').setAttribute('href','dist/theme/serif.css'); return false;">Serif</a> -
							<a href="#" onclick="document.getElementById('theme').setAttribute('href','dist/theme/blood.css'); return false;">Blood</a> -
							<a href="#" onclick="document.getElementById('theme').setAttribute('href','dist/theme/night.css'); return false;">Night</a> -
							<a href="#" onclick="document.getElementById('theme').setAttribute('href','dist/theme/moon.css'); return false;">Moon</a> -
							<a href="#" onclick="document.getElementById('theme').setAttribute('href','dist/theme/solarized.css'); return false;">Solarized</a>
						</p>
				</section>
				

				<!-- Intro -->
				<section>
					<h3>Método de cinemática inversa en tiempo real basado en FABRIK para estructuras altamente restrictas</h3>
					<p>Sebastian Eduardo Chaparro Cuevas<p>
					<img class = "logo" src="fig/unal_gr.png">
					<br>
					<p>Director: Jean Pierre Charalambos Hernández, PhD<p>
					<p>Universidad Nacional de Colombia<p>
					<p>Maestría en Ingeniería de Sistemas y Computación</p>
					<p>Bogotá, Colombia - 2021</p>
				</section>
				<!-- Intro -->
				<section>
					<section><h1>Contextualización</h1></section>
					<section>
						<br>
						<div class = "justify">
							<p class="fragment"><b>Área de investigación:</b> Computación gráfica</p>
							<p class="fragment"><b>Línea de investigación:</b> Animación por computador</p>
							<p class="fragment">¿Cómo describir el movimiento de un personaje animado? - <b>Animación de esqueleto </b></p>
							<p class="fragment"><b>Aplicaciones: </b> </p>
							<ul style="padding-left: 5%;">
								<li class="fragment">Edición y creación de movimiento en software de animación.</li>
								<li class="fragment">Animación procedimental en películas y videojuegos.</li>
								<li class="fragment">Estimar articulaciones no rastreadas en sistemas de captura de movimiento.</li>
							</ul>


						</div>
					</section>

					<section>
						<h3><a href="notation.html#/1" target="_blank" style="color: blue;">Estructura articulada - (Estructura de esqueleto)</a></h3>

						<div class="r-stack">
							<figure class="fragment fade-in-then-out" data-fragment-index="1">
								<img width = "60%" data-src='fig/1Fig_to_Skeleton.png'/>
							</figure>
							<figure class="fragment fade-in-then-out" data-fragment-index="2">
								<img width = "60%" data-src='fig/1Skeleton.png'/>
							</figure>
						</div>
					</section>


					<section>
						<h1>Cinemática</h1>
					</section>

					<section>
						<div style="text-align: justify; float: left; width: 50%">
							<h3 class="center">Cinemática directa</h3>
							<br>
							<p class="fragment center" data-fragment-index="1">$S_{d} = (^{0}\mathbf{q}_{d}, ^{0}\mathbf{o}_{d}) = f(^{0}\mathbf{q}_{1}, ^{1}\mathbf{q}_{2}, ..., ^{n-1}\mathbf{q}_{n})$</p>
							<div class="fragment" data-fragment-index="1">
								<iframe class = "ivideo"  data-src="videos/FK.webm" type="video/webm">
								</iframe>
							</div>
						</div>
						<div style="text-align: justify; float : left; width : 50%" class=embed-container >
							<h3 class="center">Cinemática Inversa</h3>
							<br>
							<p class="fragment center" data-fragment-index="2"> $f^{-1}(S_{d}) = ^{0}\mathbf{q}_{1}, ^{1}\mathbf{q}_{2}, ..., ^{n-1}\mathbf{q}_{n}$</p>

							<div class="fragment" data-fragment-index="2">
								<iframe class = "ivideo"  data-src="videos/IK.webm" type="video/webm">
								</iframe>
							</div>
						</div>
					</section>

					<section>
						<h1>Restricciones</h1>
					</section>

					<section>
						<div style="text-align: justify; float: left; width: 50%">
							<p class="fragment" style="margin-right: 5%;"> Se desea que los movimientos producidos sean visualmente atractivos e imiten a los observados en la naturaleza. </p>
							<div class="fragment">
								<iframe class = "ivideo"  data-src="videos/unconstrained.mp4" type="video/mp4">
								</iframe>
							</div>
							<p class="fragment" style="margin-right: 5%;"><b>Inconveniente:</b> Existen múltiples soluciones para resolver el problema de cinemática inversa. </p>
						</div>
						<div style="text-align: justify; float : left; width : 50%" class=embed-container >
							<p class="fragment" style="margin-right: 5%;"> <b>Solución:</b> Limitar el movimiento de las articulaciones mediante restricciones simples y eficientes.</p>
							<br>
							<div class="fragment">
								<iframe class = "ivideo"  data-src="videos/constrained.mp4" type="video/mp4">
								</iframe>
							</div>
							<p class="fragment" style="margin-right: 5%;"> Cada vez que una articulación rota debe verificarse que se mantiene dentro de la región factible.</p>
						</div>
					</section>

					<section>
						<div style="text-align: center; float: left; width: 50%">
							<h3>Restricción de bisagra</h3>
							<p class = "fragment justify" style="margin-right: 3%;"> Permite que una articulación $J_i$ rote sólo alrededor de un eje de rotación.</p>
							<br>
							<div class="fragment">
								<iframe class = "ivideo"  data-src="videos/hinge_interactive.webm" type="video/webm"></iframe>
							</div>
						</div>
						<div style="text-align: center; float : left; width : 50%" class=embed-container >
							<h3>Restricción cónica</h3>
							<p class = "fragment justify">Permite a una articulación $J_i$ rote libremente alrededor de cualquier eje de rotación.
							</p>
							<br>
							<div class="fragment">
								<iframe class = "ivideo"  data-src="videos/BallAndSocket.webm" type="video/webm"></iframe>
							</div>
						</div>
					</section>


					<!--
					<section>
						<h3>Restricción de bisagra</h3>
						<p class = "fragment"> Permite que una articulación $J_i$ rote sólo alrededor de un eje de rotación. Se establece un ángulo máximo y mínimo de rotación.</p>
						
						<div class="fragment">
							<iframe class = "ivideo"  data-src="videos/hinge_interactive.webm" type="video/webm"></iframe>
						</div>
					</section>

					<section>
						<h3>Restricción cónica</h3>
						<p class = "fragment">Permite a una articulación $J_i$ rote libremente alrededor de cualquier eje de rotación. La región factible se define utilizando un cono determinado por una elipse esférica.
							Además puede indicarse un ángulo máximo y mínimo de torsión.
						</p>
						<div class="fragment">
							<iframe class = "ivideo"  data-src="videos/BallAndSocket.webm" type="video/webm"></iframe>
						</div>

					</section>
					-->


				</section>



				<!--- Fundamentos y Antecedentes-->	

				<!-- Seccion que indique que los metodos heuristicos son avaros-->
				<section>
					<section>
						<h1>Métodos de cinemática inversa</h1>
					</section>


					<section>
						<h3>Métodos de cinemática inversa</h3>
						<br>
						<p class="fragment justify">Para aplicaciones en tiempo real se requieren métodos que cumplan con los <a href="http://andreasaristidou.com/InverseKinematics.html" style="color: blue;">siguientes criterios:</a></p>
						<figure class="fragment">
							<img width = "95%" data-src='fig/criterios.png'/>
						</figure>
					</section>


					<section>
						<h3>Clasificación de los métodos de cinemática inversa</h3>
						<figure class="fragment">
							<img width = "80%" data-src='fig/metodos.png'/>
						</figure>
					</section>

					<section>
						<h3>Métodos heurísiticos de cinemática inversa</h3>
						<figure class="fragment">
							<img width = "80%" data-src='fig/metodos_heuristicos.png'/>
						</figure>
					</section>

					<section>
						<h3><a href = "https://www.tandfonline.com/doi/abs/10.1080/2165347X.2013.823362" style="color: blue;">Cyclic Coordinate Descent (CCD)</a></h3>
						<div style="font-size: 0.8em;">
						<p class="fragment" data-fragment-index="1">Encuentra la rotación que alinea a los vectores: $ \mathbf{a}={^{i}\mathbf{o}_{n}} $ y $ \mathbf{b}={^{i}\mathbf{o}_{d}} $</p>
						<p class="fragment" data-fragment-index="1">
							$\cos(\theta) = \mathbf{a} \, \cdot \, \mathbf{b} \qquad \mathbf{\hat{r}} = \frac{\mathbf{a}}{\left\rVert{\mathbf{a}}\right\rVert}  \, \times \, \frac{\mathbf{b}}{\left\lVert{\mathbf{b}}\right\rVert} $
						</p>
						</div>
						<div class="fragment" data-fragment-index="1">
							<iframe class = "ivideo"  data-src="videos/CCD_Fast.mp4" type="video/mp4">
							</iframe>
						</div>
					</section>

					<section>
						<h3><a href = "https://ir.canterbury.ac.nz/handle/10092/743" style="color: blue;">Triangulation (TIK)</a></h3>
						<div style="font-size: 0.8em;">
						<p class="fragment" data-fragment-index="1"> Si los vectores $ {\mathbf{a}={^{i}\mathbf{o}_{i+1}}} $, $ \mathbf{b}={^{i}\mathbf{o}_{n}}-{^{i}\mathbf{o}_{i+1}} $, y $ \mathbf{c}={^{i}\mathbf{o_{d}}} $ forman un triangulo el desplazamiento de $J_i$ es: </p>
						<p class="fragment" data-fragment-index="1">
							$\theta=\cos^{-1}(\mathbf{a}\cdot\mathbf{c})-\cos^{-1}\left(\frac{\mathbf{a}\cdot\mathbf{a}\,+\,\mathbf{c}\cdot\mathbf{c}\,-\,\mathbf{b}\cdot\mathbf{b}}{2\left\rVert {\mathbf{a}} \right\rVert \left\rVert {\mathbf{c}} \right\rVert}\right)\, 
							\qquad
							\mathbf{\hat{r}}=\frac{\mathbf{a}\times\mathbf{c}}{\left\rVert {\mathbf{a}} \right\rVert \left\rVert {\mathbf{c}} \right\rVert}
							$
						</p>
						</div>
						<div class="fragment" data-fragment-index="1">
							<iframe class = "ivideo"  data-src="videos/TIK_Fast.mp4" type="video/mp4">
							</iframe>
						</div>
					</section>

					<section>
						<h3><a href = "https://www.sciencedirect.com/science/article/abs/pii/S1524070311000178" style="color: blue;">Forward and Backward Reaching Inverse Kinematics (FABRIK)</a></h3>
						<div style="font-size: 0.8em;">
						<p class="fragment" data-fragment-index="1"> Sea la posición global de las articulaciones  $ \mathbf{p}_1 = {^{0}\mathbf{o}_{1}}, \mathbf{p}_2 = {^{0}\mathbf{o}_{2}}, … \mathbf{p}_n = {^{0}\mathbf{o}_{n}}$ y sea $ d_i = \left\rVert{\mathbf{p}_{i+1} \, - \, \mathbf{p}_{i}} \right\rVert $ </p>						
						<p class="fragment" data-fragment-index="1"> Fase hacia adelante:
							 $\lambda_i = \frac{d_i}{\left\rVert{\mathbf{p}_{i+1}' \, - \, \mathbf{p}_{i}} \right\rVert }
							 \qquad
							 \mathbf{p}_i' = (1 - \lambda_i) \mathbf{p}_{i+1}' + \lambda_i \mathbf{p}_i $
						</p>						

						<p class="fragment" data-fragment-index="1"> Fase hacia atrás:
							$\lambda_i = \frac{d_i}{\left\rVert{\mathbf{p}_{i+1}' \, - \, \mathbf{p}_{i}''}\right\rVert}
							\qquad
							\mathbf{p}_{i+1}'' = (1 - \lambda_i) \mathbf{p}_{i}'' + \lambda_i \mathbf{p}_{i+1}' $
						</p>						
						</div>
						<div class="fragment">
							<iframe class = "ivideo"  data-src="videos/FABRIK_Fast.mp4" type="video/mp4">
							</iframe>
						</div>
					</section>

					<section>
						<h3>Ejemplo - Algoritmos heurísticos  para estructuras sin restricciones</h3>
						<br>
						<iframe class = "ivideo"  data-src="videos/State_art_None.mp4" type="video/mp4">
						</iframe>
					</section>

					<section>
						<h3>Ejemplo - Algoritmos heurísticos  para estructuras con restricciones</h3>
						<br>
						<div class="fragment">
							<iframe class = "ivideo"  data-src="videos/State_art_Cone.mp4" type="video/mp4"></iframe>
						</div>
					</section>

				</section>


				<section>
					<section><h1>Método propuesto</h1></section>
					<section>
						<h3> Objetivo</h3>
						<br>
						<p class = "fragment"> Definir un método heurístico en tiempo real basado en FABRIK para estructuras altamente restrictas.</p>
					</section>


					<section>
						<h3>Idea</h3>
						<br>
						<figure class="fragment">
							<img width = "95%" data-src='fig/idea.png'/>
						</figure>
						<p class="fragment"><b>Propósito:</b> aprovechar las mejores propiedades de FABRIK, CCD, TIK.</p>
					</section>


					<section>
						<h1> Pasos heurísticos</h1>
						<br>
					</section>

					<section>
						<h3>Definición de paso heurístico</h3>
						<br>
						<figure class="fragment">
							<img width = "95%" data-src='fig/paso_heuristico.png'/>
						</figure>
					</section>

					<section>
						<h3>Adaptaciones de CCD y TIK</h3>
						<br>
						<p class = "fragment justify" data-fragment-index="1"> <b>CCD:</b> &emsp; $  
							{\mathbf{\Delta q}_i}=\left(cos\left(\frac{\theta}{2}\right),\mathbf{\hat{r}}\sin\left(\frac{\theta}{2}\right)\right) $ donde
							$ \cos(\theta) = \mathbf{a} \, \cdot \, \mathbf{b} $, $ \mathbf{\hat{r}} = \frac{\mathbf{a}}{\left\rVert{\mathbf{a}}\right\rVert}  \, \times \, \frac{\mathbf{b}}{\left\rVert{\mathbf{b}}\right\rVert} 
							$, $ \mathbf{a}={^{i}\mathbf{o}_{n}} $ y $ \mathbf{b}={^{i}\mathbf{o}_{d}} $.
						</p>
						<p class = "fragment justify" data-fragment-index="2"> <b>ETIK:</b> &emsp; Dados los vectores $ \mathbf{a}={\mathbf{o}_{i+1}} $, $ \mathbf{b}={^{i}\mathbf{o}_{n}}-{\mathbf{o}_{i+1}} $ y $ \mathbf{c}={^{i}\mathbf{o}_{d}} $ existen dos soluciones posibles:
						</p>
						<div class = "fragment" data-fragment-index="2" style="margin-top: -50px; padding: 0%;">
						<div style="text-align: center; float : left; width : 50%;" class=embed-container >
							<br>
							<div >
								<img width = "50%" data-src='fig/TIK1.png'/>
								<p>$ {\mathbf{\Delta q}_{i\_a}}=\left(\cos\left(\frac{\theta_{c} - \theta_{e}}{2}\right), \mathbf{\hat{r}}\sin\left(\frac{\theta_{c} - \theta_{e}}{2}\right)\right) $</p>
								<p>$ {\mathbf{\Delta q}_{i+1}} = CCD(J_{i+1}) $</p>
							</div>
						</div>
						</div>
						<div class = "fragment" data-fragment-index="3" style="margin-top: -50px; padding: 0%;">
						<div style="text-align: justify-all; float : left; width : 50%" class=embed-container >
							<br>
							<div >
								<img width = "50%" data-src='fig/TIK2.png'/>
								<p>$ {\mathbf{\Delta q}_{i\_b}}=\left(cos\left(\frac{\theta_{c} + \theta_{e}}{2}\right),\mathbf{\hat{r}}\sin\left(\frac{\theta_{c} + \theta_{e}}{2}\right)\right) $</p>
								<p>$ {\mathbf{\Delta q}_{i+1}} = CCD(J_{i+1}) $</p>
							</div>
						</div>
						</div>
						<p class = "fragment" data-fragment-index="2"> Donde 
							$\theta_{c} = \cos^{-1}(\mathbf{a} \cdot \mathbf{c}) $, 
							$ \theta_{e} =  \cos^{-1}\left(\frac{\mathbf{a} \cdot \mathbf{a} \, + \, \mathbf{c} \cdot \mathbf{c} \, - \, \mathbf{b} \cdot \mathbf{b} }{2 \left\rVert{\mathbf{a}}\right\rVert \left\rVert{\mathbf{c}}\right\rVert} \right) $ y 
							$ \mathbf{\hat{r}} = \frac{\mathbf{a}\times\mathbf{c}}{\left\rVert{\mathbf{a}}\right\rVert\left\rVert{\mathbf{c}}\right\rVert} $
						</p>
					</section>

					<section>
						<h3>Translate and Reach Inverse Kinematics (TRIK)</h3>
						<p class="fragment" data-fragment-index="1">Inspirado en el algoritmo FABRIK pero trabaja directamente en el espacio de las orientaciones. Considera el movimiento de una pareja de articulaciones $(J_i, J_{i+1})$.</p>
						<div class="fragment" data-fragment-index="2" style="font-size: 0.8em;">
							<p> 
								1. Reducir la distancia a $S_d$: $ {\mathbf{\Delta q}_i}=\left(cos\left(\frac{\theta}{2}\right),\mathbf{\hat{r}}\sin\left(\frac{\theta}{2}\right)\right) $ donde $ \cos(\theta) = \mathbf{a} \, \cdot \, \mathbf{b} $, $ \mathbf{\hat{r}} = \frac{\mathbf{a}}{\left\rVert{\mathbf{a}}\right\rVert}  \, \times \, \frac{\mathbf{b}}{\left\rVert{\mathbf{b}}\right\rVert} $,
								$ \mathbf{a}={\boldsymbol{o}_{i+1}} $ y $ {\mathbf{b}={^{i}\mathbf{o}_{d}}+{\mathbf{o}_{i+1}}-{^{i}\mathbf{o}_{n}}} $							
							</p>
						</div>
						<p class="fragment" data-fragment-index="2" style="font-size: 0.8em;"> 
							2. Mantener la orientación global de $J_{i+1}$: $ {\mathbf{\Delta q}_{i+1}} = {{\mathbf{q}_{i+1}}^{*}} \, {{\mathbf{\Delta q}_i}^{*}} \, {\mathbf{q}_{i+1}} $ 
						</p>
						<div class="fragment" data-fragment-index="2">
							<iframe class = "ivideo"  data-src="videos/TRIK_Fast.mp4" type="video/mp4">
							</iframe>
						</div>
					</section>

					<section>
						<h3>Back and Forth Inverse Kinematics (B&FIK)</h3>
						<br>
						<div class="justify">
							<ul>
								<li class = "fragment">Considera el movimiento de una pareja de articulaciones $(J_i, J_{i+1})$.</li>
								<li class = "fragment">Permite combinar ideas de distintas heurísticas mediante las siguientes acciones:
								</li>
							</ul>
							<figure class="fragment">
								<img width = "95%" data-src='fig/BFIK.png'/>
							</figure>
	
						</div>

					</section>

					<section>
						<h3>Variantes de Back and Forth Inverse Kinematics (B&FIK) </h3>
						<br>
						<p class="fragment justify"> <b>B&FIK$&lt;CCD&gt;$</b>:  C se compone de la pose resultante tras aplicar CCD.</p>
						<p class="fragment justify"> <b>B&FIK$&lt;TIK&gt;$</b>:  C se compone de la pose resultante tras aplicar TIK.</p>
						<p class="fragment justify"> <b>B&FIK$&lt;TRIK&gt;$</b>: C se compone de la pose resultante tras aplicar TRIK.</p>							
						<p class="fragment justify"> <b>B&FIK$&lt;ETIK&gt;$</b>:  C se compone de las dos poses resultantes tras aplicar ETIK.</p>
					</section>

					<section>
						<div style="text-align: center; float: left; width: 50%">
							<h3>B&FIK$&lt;CCD&gt;$</h3>
							<div class="fragment">
								<iframe class = "ivideo"  data-src="videos/BFIK.mp4" type="video/mp4"></iframe>
							</div>
						</div>
						<div style="text-align: center; float : left; width : 50%" class=embed-container >
							<h3>B&FIK$&lt;ETIK&gt;$</h3>
							<div class="fragment">
								<iframe class = "ivideo"  data-src="videos/BFIK_ETIK.mp4" type="video/mp4"></iframe>
							</div>
						</div>
					</section>


					<section>
						<h3>B&FIK$&lt;ETIK&gt;$ </h3>
							<br>
							<div class = "justify">
								<p class="fragment"> <b>Ventajas:</b> Genera resultados precisos y disminuye las situaciones de bloqueo.</p>
								<p class="fragment"> <b>Inconvenientes:</b> Su  movimiento no es suave y su costo es mayor al de cualquier otro paso heurístico.</p>
								<p class="fragment"> Para superar estas limitaciones se propone <b>B&FIK$&lt; TRIK | ETIK&gt;$</b>:</p>
								<p class="fragment" style="padding-left: 5%;"> - Utiliza pasos <b>B&FIK$&lt; TRIK &gt;$</b> para las primeras iteraciones.</p>
								<p class="fragment"style="padding-left: 5%;"> - Solo cuando sea necesario se utiliza <b>B&FIK$&lt; ETIK &gt;$</b> en iteraciones posteriores.</p>
							</div>
					</section>

					<section>
						<h3>Fixing orientation step (FIXO)</h3>
						<br>
						<ul>
							<li class="fragment">Permite el uso de objetivos de posición y de orientación.</li>
							<li class="fragment">Considera el movimiento de una articulación $J_i$ teniendo en cuenta: </li>
							<figure class="fragment">
								<img width = "100%" data-src='fig/FIXO.png'/>
							</figure>
						</ul>
					</section>


					<section>
						<h3>Fixing orientation step (FIXO)</h3>
						<p class="fragment" data-fragment-index="1"> Rotación sobre $J_{i}$ que minimiza la distancia orientacional: 
							${\mathbf{\Delta q}_{i\_or}} = \left(cos\left(\frac{\theta_{or}}{2}\right),\mathbf{\hat{r}}\sin\left(\frac{\theta_{or}}{2}\right)\right) = {{^{0}\mathbf{q}_{i}}^{*}} \, {^{0}\mathbf{q}_{d}} \,  {^{i}{\mathbf{q}_{n}}^{*}} $
						</p>
						<p class="fragment" data-fragment-index="1"> 
							El ángulo $ {\theta}_{or} $ se limita de acuerdo a los pesos que se asocien a la distancia posicional y orientacional. 
						</p>
						<br>		
						<div class = "fragment" data-fragment-index="1">		
							<iframe class = "ivideo"  data-src="videos/FIXO_Example_2.mp4" type="video/mp4">
							</iframe>
						</div>
					</section>

					<!-- GHIK -->
					<section>
						<h1> Algoritmo Generic Heuristic Inverse Kinematics (GHIK)</h1>
					</section>

					<section>
						<h3> Algoritmo GHIK para cadenas cinemáticas</h3>
						<p class="fragment justify">Dada la cadena $ K=(J_{1},\ldots,J_{n}) $ el algoritmo <b><a href="https://app.creately.com/diagram/9BDHQxBKFXK/" style="color: blue;">Generic Heuristic Inverse Kinematics</a></b> (GHIK) se encarga de:</p>
						<figure class="fragment">
							<img width = "95%" data-src='fig/ghik.png'/>
						</figure>

					</section>

					<!--<section>
						<h3> Algoritmo GHIK para cadenas cinemáticas</h3>
						<p class="fragment"> <b>Entrada</b> una cadena cinemática $ K=(J_{1},\ldots,J_{n}) $, un objetivo $S_d$ y un paso heurístico a aplicar.</p>
						<div class="fragment">
							<iframe class = "dia" marginheight="0" marginwidth="0" data-src="https://app.creately.com/diagram/9BDHQxBKFXK/view">
								<p>Your browser does not support iframes.</p>
							</iframe>						
						</div>
					</section>-->

					<section>
						<h3>Algoritmo GHIK para múltiples efectores finales</h3>
						<br>	
						<figure class="fragment">
							<img width = "80%" data-src='fig/ghik_multiple.png'/>
						</figure>
					</section>

					<!--<section>
						<h3> Division de la estructura articulada</h3>
						<p class="fragment"> Algoritmo recursivo: Si una articulación tiene más de un hijo debe crearse una nueva cadena</p>
						<div class="fragment" >
							<iframe class = "ivideo"  data-src="videos/GHIK_subdivision.mp4" type="video/mp4">
							</iframe>
						</div>

					</section>-->

					<section>
						<h3> Division de la estructura articulada </h3>
						<div style="text-align: justify; float: left; width: 50%">
							<p class="fragment" style="margin-right: 5%;"> <b>Algoritmo recursivo:</b> Se visitan todas las articulaciones con una búsqueda en profundidad. Si una articulación tiene más de un hijo debe crearse una nueva cadena.</p>
							<div class="fragment" >
								<iframe class = "ivideo"  data-src="videos/GHIK_subdivision.mp4" type="video/mp4">
								</iframe>
							</div>
						</div>
						<div style="text-align: center; float : left; width : 50%" class=embed-container >
							<div class="fragment" data-fragment-index="3">
								<p class="fragment" style="text-align: justify;"> Sólo las cadenas externas tienen objetivos asociados. Se utiliza esta información para determinar los objetivos de las cadenas internas.</p>
								<div class="fragment">
									
								<img data-src='fig/GHIKSkeleton.png' style="height: 60vh; margin-top: 0%;"/>
								</div>
							</div>
						</div>
						<p class="fragment">Finalmente, se aplica el algoritmo GHIK para cadenas cinemáticas sobre las cadenas obtenidas.</p>
					</section>

					<!--
					<section>
						<h3> Resolviendo el problema para cada cadena cinemática </h3>
						<br>
						<div style="text-align: justify; float: left; width: 50%">
							<br>
							<p class="justify fragment" data-fragment-index="1">Se aplica el algoritmo GHIK para cadenas cinemáticas sobre las cadenas obtenidas.</p>
							<br>
							<p class="justify fragment" data-fragment-index="2">Las cadenas externas tienen un objetivo asociado de forma explícita. </p>
							<br>
							<p class="justify fragment" data-fragment-index="4">Los objetivos de las cadenas internas se definen a partir de la información de los efectores finales descendientes de ellas.</p>
						</div>
						<div style="text-align: center; float : left; width : 50%" class=embed-container >
							<div class="fragment" data-fragment-index="3">
								<br>
								<img width = "80%" data-src='fig/GHIKSkeleton.jpg'/>
							</div>
						</div>
					</section>
					-->

					<section>
						<h3>Definición de los objetivos de las cadenas internas</h3>
						<p class="fragment" data-fragment-index="1"> Para cada cadena interna se resuelve el el problema de registro rígido: 
							$ argmin \sum_{i=1}^{m} w_i \left\rVert{\mathbf{b_i} - \mathrm{R} \mathbf{a_i} + \mathbf{t}}\right\rVert $ donde:
						</p>
						<p class="fragment" data-fragment-index="1"> $ A={\{\mathbf{a_{i}}\}}_{i=1}^{m} $: Efectores finales descendientes de la cadena interna.</p>
						<p class="fragment" data-fragment-index="1"> $ B={\{\mathbf{b_{i}}\}}_{i=1}^{m} $: Objetivos asociados a cada efector final de $ A $. </p>
						<br>		
						<div class = "fragment" data-fragment-index="1">		
							<iframe class = "ivideo"  data-src="videos/registration.mp4" type="video/mp4">
							</iframe>
						</div>
					</section>
				</section>			





				<!-- Results -->
				<section>
					<section><h1>Experimento para cadenas cinemáticas</h1></section>
					<section>
						<h3>Experimento</h3>
						<div style="text-align: justify; float: left; width: 60%">
							<ul style="text-align: justify; font-size: 1em !important;">
							<br>
							<li class="fragment" data-fragment-index="1"> Se definieron cuatro grupos distintos de cadenas generadas aleatoriamente: 
								<p style="padding-left: 5%;"> 
									<span class = "fragment" data-fragment-index="2"> a) Irrestrictas</span>
									<span class = "fragment" data-fragment-index="3"> b) Bisagra</span>
									<span class = "fragment" data-fragment-index="4"> c) Cónicas</span>
									<span class = "fragment" data-fragment-index="5"> d) Mixtas</span>
								</p> 
							</li>
							<li class="fragment" data-fragment-index="6"> Cada grupo contenía 500 cadenas compuestas por entre 4 y 20 articulaciones. </li>
							<br>
							<li class="fragment" data-fragment-index="7"> Datos de entrada: trayectorias continuas y discontinuas compuestas por 100 objetivos de posición. </li>
							<br>
							<li class="fragment" data-fragment-index="8"> Condiciones de parada: la distancia posicional es inferior al 0.1% ó se excede un máximo de 50 iteraciones. </li>
							<br>
							</ul>
						</div>
						<div style="text-align: justify-all; float : left; width : 40%" class=embed-container >
							<div class="r-stack">
								<figure class="fragment fade-in-then-out" data-fragment-index="2">
									<img width = "50%" data-src='fig/irrestrictas.png'/>
								</figure>
								<figure class="fragment fade-in-then-out" data-fragment-index="3">
									<img width = "50%" data-src='fig/bisagra.png'/>
								</figure>
								<figure class="fragment fade-in-then-out" data-fragment-index="4">
									<img width = "50%" data-src='fig/conicas.png'/>
								</figure>
								<figure class="fragment fade-in-then-out" data-fragment-index="5">
									<img width = "50%" data-src='fig/mixtas.png'/>
								</figure>
								<figure class="fragment fade-in" data-fragment-index="6">
									<img width = "80%" data-src='fig/cadenas.png'/>
								</figure>
							</div>
						</div>

					</section>

					<section>
						<h3>Experimento - Ejemplo con restricciones cónicas</h3>
						<iframe class = "ivideo"  data-src="videos/Chains_experiment.mp4" type="video/mp4">
						</iframe>
					</section>


					<section>
						<h3>Métricas</h3>
						<div style="text-align: justify; float: left; width: 60%">
							<br>
							<br>
							<br>
							<ul style="text-align: justify; font-size: 0.9em !important;">
							<li class="fragment" data-fragment-index="1"> DP: promedio de la distancia posicional entre el efector final y el objetivo dividido entre la altura de la estructura y expresado como porcentaje
							</li>
							<li class="fragment" data-fragment-index="3"> MT: mediana del tiempo requerido para resolver el problema de cinemática inversa en milisegundos.</li>
							<li class="fragment" data-fragment-index="5"> DPMPA: El promedio de la distancia posicional media por articulación dividido entre la altura de la estructura y expresado como porcentaje. </li>
							<li class="fragment" data-fragment-index="7"> DOMPA: El promedio de la distancia orientacional media por articulación expresada en radianes. </li>
							<li class="fragment" data-fragment-index="9"> IG:  El promedio del índice de Gini del desplazamiento rotacional por articulación. </li>
							</ul>
						</div>
						<div style="text-align: justify-all; float : left; width : 40%" class=embed-container >
							<div class="r-stack">
								<figure class="fragment fade-in-then-out" data-fragment-index="2">
									<img width = "80%" data-src='fig/DE.png'/>
								</figure>
								<figure class="fragment fade-in-then-out" data-fragment-index="4">
									<img width = "80%" data-src='fig/MT.png'/>
								</figure>
								<figure class="fragment fade-in-then-out" data-fragment-index="6">
									<img width = "80%" data-src='fig/DPMPA.png'/>
								</figure>
								<figure class="fragment fade-in-then-out" data-fragment-index="8">
									<img width = "80%" data-src='fig/DOMPA.png'/>
								</figure>
								<figure class="fragment fade-in-then-out" data-fragment-index="10">
									<img width = "80%" data-src='fig/IG2.jpg'/>
								</figure>
							</div>
						</div>
					</section>

					<section>
						<h3>Resultados generales</h3>
						<iframe class = "results" marginheight="0" marginwidth="0" data-src="generated_html/single/resume.html">
							<p>Your browser does not support iframes.</p>
						  </iframe>						
					</section>

					<!--<section>
						<h2> <a href="single_effector.html#/1" target="_blank" style="color: blue;">Resultados específicos</a></h2>
					</section>-->
                    <section>
                        <h2>Resultados específicos para cadenas cinemáticas</h2>
                    </section>

                    <section>
                        <h2>Demos</h2>
                    </section>

					<section>
						<h3>Cadenas irrestrictas</h3>
						<iframe class = "ivideo"  data-src="videos/unconstrained_chains.mp4" type="video/mp4">
						</iframe>
					</section>

					<section>
						<h3>Cadenas con restricciones</h3>
						<iframe class = "ivideo"  data-src="videos/Chains_experiment.mp4" type="video/mp4">
						</iframe>
					</section>

					<section>
						<h3>FABRIK vs TRIK - Suavidad visual</h3>
						<iframe class = "ivideo"  data-src="videos/FABRIKvsTRIK.mp4" type="video/mp4">
						</iframe>
					</section>

                    <section>
                        <h2>Resultados por métrica</h2>
                    </section>

					<section>
						<iframe class = "results" marginheight="0" marginwidth="0" data-src="generated_html/single/DE.html">
							<p>Your browser does not support iframes.</p>
						  </iframe>						
					</section>

					<section>
						<iframe class = "results" marginheight="0" marginwidth="0" data-src="generated_html/single/MT.html">
							<p>Your browser does not support iframes.</p>
						  </iframe>						
					</section>

					<section>
						<iframe class = "results" marginheight="0" marginwidth="0" data-src="generated_html/single/MPJPD.html">
							<p>Your browser does not support iframes.</p>
						  </iframe>						
					</section>

					<section>
						<iframe class = "results" marginheight="0" marginwidth="0" data-src="generated_html/single/MPJOD.html">
							<p>Your browser does not support iframes.</p>
						  </iframe>						
					</section>

					<section>
						<iframe class = "results" marginheight="0" marginwidth="0" data-src="generated_html/single/GI.html">
							<p>Your browser does not support iframes.</p>
						  </iframe>						
					</section>



				</section>				

				<section>
					<section><h1>Experimento para múltiples efectores finales</h1></section>

					<section>
						<h3>Experimento</h3>
						<div style="text-align: justify; float: left; width: 60%">
							<ul style="text-align: justify; font-size: 1em !important;">
							<br>
							<li class="fragment" data-fragment-index="1"> Se planteó la reconstrucción del movimiento de estructuras altamente restrictas con distinta topología y capacidad de movimiento:<br>
									<span class = "fragment" data-fragment-index="2"> a) Humano, </span>
									<span class = "fragment" data-fragment-index="3"> b) Gato, </span>
									<span class = "fragment" data-fragment-index="4"> c) Araña, </span>
									<span class = "fragment" data-fragment-index="5"> d) Tiranosaurio, </span>
									<span class = "fragment" data-fragment-index="6"> e) Mono, </span>
									<span class = "fragment" data-fragment-index="7"> f) Dragón. </span>
							</li>
							<li class="fragment" data-fragment-index="8"> Se asignó a cada articulación una restricción cónica inferida de la animación original.
							</li>	
							<li class="fragment" data-fragment-index="9"> Datos de entrada: pose inicial, posicion y orientacion de los efectores finales y de la raiz. </li>
							<li class="fragment" data-fragment-index="10"> Condiciones de parada: la distancia posicional es inferior al 0.1% ó se excede un máximo de 5 iteraciones. </li>
							<br>

							</ul>
						</div>

						<div style="text-align: justify-all; float : left; width : 40%" class=embed-container >
							<br>
							<div class="fragment" data-fragment-index="1">
								<div class="r-stack">
									<figure class="fragment fade-in-then-out" data-fragment-index="2">
										<img width = "80%" data-src='fig/humano.png'/>
										<p>Articulaciones: 23</p>
										<p>Efectores finales: 5</p>
									</figure>
									<figure class="fragment fade-in-then-out" data-fragment-index="3">
										<img width = "80%" data-src='fig/gato.png'/>
										<p>Articulaciones: 44</p>
										<p>Efectores finales: 11</p>
									</figure>
									<figure class="fragment fade-in-then-out" data-fragment-index="4">
										<img width = "80%" data-src='fig/arana.png'/>
										<p>Articulaciones: 62</p>
										<p>Efectores finales: 14</p>
									</figure>
									<figure class="fragment fade-in-then-out" data-fragment-index="5">
										<img width = "80%" data-src='fig/tirano.png'/>
										<p>Articulaciones: 69</p>
										<p>Efectores finales: 16</p>
									</figure>
									<figure class="fragment fade-in-then-out" data-fragment-index="6">
										<img width = "80%" data-src='fig/mono.png'/>
										<p>Articulaciones: 86</p>
										<p>Efectores finales: 22</p>
									</figure>

									<figure class="fragment fade-in-then-out" data-fragment-index="7">
										<img width = "80%" data-src='fig/dragon.png'/>
										<p>Articulaciones: 143</p>
										<p>Efectores finales: 40</p>
									</figure>

									<figure class="fragment fade-in" data-fragment-index="8">
										<img width = "90%" data-src='fig/multiples.png'/>
									</figure>
								</div>
							</div>
						</div>
					</section>

					<section>
						<h3>Experimento - Reconstruccion del movimiento humano</h3>
						<iframe class = "ivideo"  data-src="videos/Humans.mp4" type="video/mp4">
						</iframe>
					</section>

					<section>
						<h3>Métricas</h3>
						<div style="text-align: justify; float: left; width: 60%">
							<br>
							<ul style="text-align: justify; font-size: 0.9em !important;">
							<li class="fragment" data-fragment-index="1"> DP: promedio de la distancia posicional entre los efectores finales y sus objetivo dividido entre la altura de la estructura y expresado como porcentaje
							</li>
							<li class="fragment" data-fragment-index="3"> DO: promedio de la distancia orientacional entre los efectores finales y sus objetivos expresado en radianes.</li>
							<li class="fragment" data-fragment-index="5"> MT: mediana del tiempo requerido para resolver el problema de cinemática inversa en milisegundos. </li>
							<li class="fragment" data-fragment-index="7"> EPMPA: El promedio de la distancia posicional media por articulación dividido entre la altura de la estructura y expresado como porcentaje. </li>
							<li class="fragment" data-fragment-index="9"> EOMPA: El promedio de la distancia orientacional media por articulación expresada en radianes. </li>
							<li class="fragment" data-fragment-index="10" style="list-style-type: none;"> NOTA: EPMPA y EOMPA se calculan a partir de la distancia entre las poses originales y las reconstruidas </li>							
							</ul>
						</div>
						<div style="text-align: justify-all; float : left; width : 40%" class=embed-container >
							<div class="r-stack">
								<figure class="fragment fade-in-then-out" data-fragment-index="2">
									<img width = "80%" data-src='fig/DPM.png'/>
								</figure>
								<figure class="fragment fade-in-then-out" data-fragment-index="4">
									<img width = "80%" data-src='fig/DOM.png'/>
								</figure>
								<figure class="fragment fade-in-then-out" data-fragment-index="6">
									<img width = "60%" data-src='fig/MTM.png'/>
								</figure>
								<figure class="fragment fade-in-then-out" data-fragment-index="8">
									<img width = "60%" data-src='fig/EPMPA.png'/>
								</figure>
								<figure class="fragment fade-in-then-out" data-fragment-index="10">
									<img width = "80%" data-src='fig/EOMPA.png'/>
								</figure>
							</div>
						</div>
					</section>

					<section>
						<h3>Resultados generales</h3>
						<iframe class = "results" marginheight="0" marginwidth="0" data-src="generated_html/multiple/resume.html">
							<p>Your browser does not support iframes.</p>
						  </iframe>						
					</section>

					<!--<section>
						<h2> <a href="multiple_effectors.html#/1" target="_blank" style="color: blue;">Resultados específicos</a></h2>
					</section>-->
                    <section>
                        <h2>Resultados específicos para múltiples efectores finales</h2>
                    </section>

                    <section>
                        <h2>Demos</h2>
                    </section>

					<section>
						<h3>Humano</h3>
						<iframe class = "ivideo"  data-src="videos/Humans.mp4" type="video/mp4">
						</iframe>
					</section>

					<section>
						<h3>Gato</h3>
						<iframe class = "ivideo"  data-src="videos/Cat.mp4" type="video/mp4">
						</iframe>
					</section>

					<section>
						<h3>Araña</h3>
						<iframe class = "ivideo"  data-src="videos/Spider.mp4" type="video/mp4">
						</iframe>
					</section>

                    <section>
						<h3>Tiranosaurio</h3>
						<iframe class = "ivideo"  data-src="videos/Tyranno.mp4" type="video/mp4">
						</iframe>
					</section>

                    <section>
						<h3>Mono</h3>
						<iframe class = "ivideo"  data-src="videos/Monkey.mp4" type="video/mp4">
						</iframe>
					</section>

                    <section>
						<h3>Dragón</h3>
						<iframe class = "ivideo"  data-src="videos/Dragon.mp4" type="video/mp4">
						</iframe>
					</section>

                    <section>
                        <h2>Resultados por métrica</h2>
                    </section>

					<section>
						<iframe class = "results" marginheight="0" marginwidth="0" data-src="generated_html/multiple/DE.html">
							<p>Your browser does not support iframes.</p>
						  </iframe>						
					</section>

					<section>
						<iframe class = "results" marginheight="0" marginwidth="0" data-src="generated_html/multiple/OE.html">
							<p>Your browser does not support iframes.</p>
						  </iframe>						
					</section>


					<section>
						<iframe class = "results" marginheight="0" marginwidth="0" data-src="generated_html/multiple/MT.html">
							<p>Your browser does not support iframes.</p>
						  </iframe>						
					</section>

					<section>
						<iframe class = "results" marginheight="0" marginwidth="0" data-src="generated_html/multiple/MPJPE.html">
							<p>Your browser does not support iframes.</p>
						  </iframe>						
					</section>

				</section>				

				<section>
					<section><h1>Conclusiones</h1></section>
					<section>
						<h3> Conclusiones</h3>
						<figure class="fragment">
							<img width = "95%" data-src='fig/conclusiones.png'/>
						</figure>

					</section>
				</section>

				<section>
					<h2>Gracias por su atención.</h2>
				</section>
			</div>
		</div>

		<script src="dist/reveal.js"></script>
		<script src="plugin/notes/notes.js"></script>
		<script src="plugin/markdown/markdown.js"></script>
		<script src="plugin/highlight/highlight.js"></script>
		<script src="plugin/math/math.js"></script>
		<script>
			// More info about initialization & config:
			// - https://revealjs.com/initialization/
			// - https://revealjs.com/config/
			Reveal.initialize({
				width: "120%",
				height: "120%",
				margin: 0.05,
				hash: true,
				math: {
					mathjax: 'https://cdn.jsdelivr.net/gh/mathjax/mathjax@2.7.8/MathJax.js',
					config: 'TeX-AMS_HTML-full',
					// pass other options into `MathJax.Hub.Config()`
					TeX: { Macros: { RR: "{\\bf R}" } }
			    },
				// Learn about plugins: https://revealjs.com/plugins/
				plugins: [ RevealMarkdown, RevealHighlight, RevealNotes, RevealMath ]
			});

			// Change the size of our presentation
			document.querySelector( '.reveal' ).style.width = '100vw';
			document.querySelector( '.reveal' ).style.height = '100vh';

			// Make reveal.js aware of the size change
			Reveal.layout();			
		</script>
	</body>
</html>
